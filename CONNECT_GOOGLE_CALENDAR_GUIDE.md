# 📅 How to Connect Google Calendar - Simple Guide

## Quick Start (3 Steps)

### Step 1: Navigate to Calendar Settings
1. Log into your account
2. Go to **Calendar Dashboard** (`/calendar`)
3. Click the **"Connect Calendar"** button (top right)
   - OR go to the **"Connections"** tab

### Step 2: Connect Google Calendar
1. Click **"Connect Google Calendar"** button
2. You'll be redirected to Google's authorization page
3. **Select your Google account**
4. **Allow permissions** when prompted:
   - ✅ View and manage your calendars
   - ✅ Create and edit events
   - ✅ View calendar availability

### Step 3: Verify Connection
1. You'll be redirected back automatically
2. Look for **"Connected"** status with green checkmark ✓
3. Your calendar events will now sync!

---

## 🎯 What Happens After Connecting?

### Automatic Features:
- ✅ **Real-time availability** - Clients see your actual free times
- ✅ **No double-booking** - System checks Google Calendar before booking
- ✅ **Auto-sync appointments** - New bookings appear in Google Calendar
- ✅ **Google Meet links** - Video calls automatically created

---

## 🔧 Troubleshooting

### "Connection Failed" Error
**Solution:**
1. Check you're logged into the correct Google account
2. Make sure you clicked "Allow" on all permissions
3. Try again in an incognito/private window
4. Clear browser cache and cookies

### Calendar Not Syncing
**Solution:**
1. Go to Calendar Dashboard → **Diagnostics** tab
2. Run the automated diagnostics
3. Check if tokens are valid
4. Try disconnecting and reconnecting

### Events Not Appearing
**Solution:**
1. Refresh the calendar page
2. Check the date range (events only load ±2 months)
3. Verify calendar is set to "primary" or correct calendar ID
4. Enable two-way sync in settings

---

## ⚙️ Advanced: Enable Two-Way Sync

For real-time updates when you edit events in Google Calendar:

1. Go to Calendar Dashboard
2. Navigate to **"Connections"** tab
3. Find **"Two-Way Sync"** section
4. Click **"Enable"** button
5. Webhook will be created (expires in 7 days, auto-renews)

**Benefits:**
- Changes in Google Calendar instantly update in app
- Delete events in Google, they disappear in app
- Edit times in Google, app updates automatically

---

## 🔒 Security & Privacy

- Your calendar tokens are encrypted and stored securely
- Only you can access your calendar data (Row Level Security)
- Tokens automatically refresh - no re-authentication needed
- You can disconnect anytime from settings

---

## 📱 Where to Use Connected Calendar

Once connected, your Google Calendar works in:
- **Consultations Page** - Shows real availability to clients
- **Calendar Dashboard** - View all events in one place
- **Booking Forms** - Prevents scheduling conflicts
- **Email Notifications** - Sends calendar invites

---

## ❓ Need Help?

Visit the **Diagnostics** tab in Calendar Dashboard for:
- Connection status check
- Token validation
- Sync history
- Detailed error logs

**Still having issues?** Contact support with your diagnostic report.
